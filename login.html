<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>パスワード認証</title>
    <style>
        body { font-family: sans-serif; max-width: 400px; margin: 100px auto; padding: 20px; text-align: center; border: 1px solid #ccc; border-radius: 10px; }
        input { padding: 10px; margin-top: 20px; font-size: 1em; }
        button { padding: 10px 20px; font-size: 1em; cursor: pointer; }
    </style>
</head>
<body>

    <h2>秘密のページ</h2>
    <p>パスワードを入力してください</p>
    <p>パイちゃんの名前を最初は大文字半角英字で</p>

    <input type="password" id="password-input">
    <button onclick="checkPassword()">入室する</button>

    <script>
        function checkPassword() {
            // ▼▼▼ 好きなパスワードをここに設定してください ▼▼▼
            const correctPassword = "Pyrite"; 
            // ▲▲▲ ▲▲▲

            // --- ここからが賢くなった部分 ---

            // 1. URLから「?page=...」という情報を読み取る
            const urlParams = new URLSearchParams(window.location.search);
            const secretPageUrl = urlParams.get('page');

            // 2. もし行き先が指定されていなかったら、エラーにする
            if (!secretPageUrl) {
                alert("エラー：行き先が指定されていません。");
                return; // 処理を中断
            }
            
            // --- ここまで ---

            const userInput = document.getElementById("password-input").value;

            if (userInput === correctPassword) {
                // パスワードが合っていたら、「URLで指定された行き先」に移動する
                window.location.href = secretPageUrl;
            } else {
                // パスワードが間違っていたら、メッセージを表示する
                alert("パスワードが違います。");
            }
        }
    </script>

</body>
</html>

